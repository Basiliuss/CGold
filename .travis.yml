language:
  - python

python:
  - "2.7"

# Container-based infrastructure (Linux)
# * https://docs.travis-ci.com/user/migrating-from-legacy/#How-can-I-use-container-based-infrastructure%3F
sudo:
  - false

# Install packages differs for container-based infrastructure
# * https://docs.travis-ci.com/user/migrating-from-legacy/#How-do-I-install-APT-sources-and-packages%3F
# * http://stackoverflow.com/a/30925448/2288008
addons:
  apt:
    packages:
      - python-enchant

install:
  # Info about OS
  - uname -a

  # Info about Python tools
  - which python
  - python --version

  - which virtualenv
  - virtualenv --version
  - virtualenv venv
  - export PATH="`pwd`/venv/bin:$PATH"

  - which python
  - python --version

  - which pip
  - pip --version

  - pip install -U pip
  - pip install -r docs/requirements.txt

script:
  - cd docs
  - mkdir _static
  - sphinx-build -v -W . _build
  - sphinx-build -b spelling . _spelling
